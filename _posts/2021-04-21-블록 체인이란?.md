---
layout: post
title:  "Nomad Coder 님 영상 요약 #1.블록체인이란?"
summary: "what is blockchain"
author: 2rohyun
date: '2021-04-21 11:17:23 +0900'
category: blockchain
thumbnail: /assets/img/posts/blockchain.png 
keywords: blockchain, what is blockchain
permalink: /blog/what-is-blockchain/
usemathjax: false
---
# Concept of Blockchain

bitcoin, etherium, cardano, polkadot, cosmos, dogecoin 등을 돌아가게 하는 기반이다.
블록체인 = 블록들이 모여있는 체인

블록은 추가가 가능하고 편집은 불가능한 DB 이다.

블록체인은 탈중앙화가 가능하다.

탈중앙화 : 특정 개인이 DB 를 관리할 수 없음

모두가 DB의 복제본을 가지고 있다. 즉 분산된 DB 이다. 이 이유로 크립토를 감시하거나 통제하기가 힘들다.

우리가 컴퓨터를 몽땅 꺼야 비트코인이 죽을 수 있다. --> 불가능

덕분에 크립토 커런시가 정부의 감시나 통제에 대응할 수 있다.

블록이 정보를 DB에 추가하는 방법이다.

블록을 구성하는 정보 : block hash, previous block hash, block data

block data : 비트 코인의 경우 block data 는 트랜잭션 ( 거래 내역 ) 들이다.

hash function : one - way function, deterministic

deterministic -> 같은 인풋은 항상 같은 아웃풋을 가진다.
one - way function --> 인풋으로 아웃풋을 얻을 수는 있지만, 아웃풋으로 인풋을 얻을 수 없다.
해쉬는 블록들이 서로 연결된 방법이다. 즉 이것이 블록의 체인을 만든다.

내가 블록이고 비트코인 블록체인에 추가되고 싶다면? 
1. 빗코의 트랜잭션( 결제 내역 ) 을 모은다 ( 데이터 부분 )
2. 이전 블록의 해시가 필요
3. 나의 데이터 + 이전 블록의 해시를 합쳐서 다시 해시 -> 나만의 해시가 생김

# Proof of work, mining 

비트코인, 이더리움 등 작업 증명 관련된 크립토 채굴을 위해서 좋은 그래픽이 필요하다 ( = 그래픽 카드의 수요가 급증한 이유 )

2. 어떤 데이터가 블록체인에 추가될 수 있는가? "진실"인 데이터 ( 거짓이 있으면 안됨. ) 이를 위해 작업 증명이 필요하다. "작업증명" 을 통해 비트코인, 이더리움 등 다양한 크립토들이 사기꾼, 악용사례 등으로 부터 블록체인을 보호하고 있음.

채굴자( miner ) : 블록체인에 들어오는 데이터를 확인하는 일을 한다.(check) 왜냐면 바로 채굴자가 데이터를 블록안에 넣어서 (input) 블록체인에 보내는 역할을 하기 때문. (send)
ex ) 비트코인 블록체인에서 비트코인을 친구에게 보내면 그 거래내용은 확인되지 않는다. 하지만 채굴자가 해당 거래내역을 보고, 확인하고 친구에게 돈을 보낸 모든 내역을 체크한다. 해당 내용의 사실 체크가 끝나면 그 데이터를 블록 안에 넣고, 이러한 체크를 여러 개 해서 블록이 꽉 차면 블록을 닫고 블록체인에 올린다.

채굴자들 덕분에 블록체인에 올라가야하는 데이터들을 모두 체크할 수 있다. 이를 탈중앙화 방법으로 한다. 즉 누구나 원한다면 채굴자가 될 수 있다는 것. ( 누구나 데이터를 검증할 수 있다는 것 )

채굴자들이 채굴을 하는 이유? 돈을 주니까! 채굴자들이 트랜잭션 컨펌을 하면 돈을 받게된다. ( transfer fee 라고하는 일종의 수수료 ) 덕분에 검증 작업이 활발하게 이루어져 거짓말, 사기꾼으로부터 네트워크를 보호할 수 있는 것이다.

그렇다면 개꿀이네? 아님. 블록체인에 블록을 올리는 게 매우 x 100 어렵다. 아래의 이미지는 채굴자가 네트워크 질문에 대한 답을 찾는 과정을 보여준다.

![proof_of_work](/assets/img/posts/proof_of_work.png){: width="50%" height="50%"}

1. 작업증명이 채굴자에게 질문을 한다. 그것은 네트워크 전체가 다 아는 질문이다. ( send puzzle to miner )
2. 채굴자들은 그에 대한 답을 해야하고 답을 찾으면 그때서야 블록을 올릴 수가 있다. ( get it to network )
3. 채굴자에게 커미션을 준다 ( commission + bitcoin ) -> 이 때 비트코인이 생성된다. ( 사람들이 블록을 블록체인에 올리는 순간 생성 )

결국 채굴자는 보상을 두 번 받게 된다. 첫 번째 -> 거래내역을 컨펌하면서, 두 번째 -> 질문의 답을 찾아 블록을 체인에 올리면서 

채굴자가 블록을 체인에 올릴 때마다 coinbase transaction 이 생성되고 이 coinbase transaction 이 비트코인이 생성되는 순간이다.

원래 생성되어있는 것이 아니라, 블록을 체인에 올릴 때마다 새롭게 생성되는 것.

처음엔 블록을 올릴 때마다 50개의 코인이 생성되었다. 하지만 4년마다 반감기가 와서 그 생산량이 반으로 줄어든다. 50 -> 25 -> 12.5 -> 6.25 ( 현재 )

왜 반감기가 있지? 비트코인은 무한정이 아니기 때문. 총 2100만개의 생산량이 정해져있음.

그렇다면 채굴자들이 답해야하는 "질문"이라는 것이 무엇일까? 

![nicocoin](/assets/img/posts/nikocoin.png){: width="50%" height="50%"}

nonce = 한 번만 쓰인 숫자 ( 채굴자가 바꿀 수 있는 유일한 값 )

1. "0" 은 난이도를 뜻한다. 얼마나 블록을 찾는 것이 어려운지. 채굴자는 블록에 들어갈 데이터를 바꿀 수 없다. 오직 검증만 할 수 있음. 이 것은 네트워크가 채굴자에게 물어보는 "질문"에 연결된다.
2. 질문 : " 채굴자님, 여기 nonce 에 넣어야하는 값이 뭘까요? 참고로 그 해시는 3개의 0으로 시작해야해요! " == "3개의 0으로 시작하는 해시를 만들려면 어떤 nonce 를 가져야하나요? "
3. 왜 3이냐? 위의 사진을 보면 난이도가 3이기 때문이다.
4. 채굴자는 nonce 를 바꾸어가며 숫자 맞추기 게임을 한다고 생각하면 된다. 노가다다. ( 3개의 0으로 시작하는 해시를 찾기 위해 )

이러한 이유로 블록 생성은 매우 어렵다. 하지만 검증하는 절차 자체는 쉽다. 이것은 작업증명의 매직! "질문"은 아주 복잡한 답변을 가지고 있지만, 답은 검증하기가 아주 쉽다!
이것이 "작업증명" 에 대한 간략한 설명이다.

비트코인은 매 10분마다 새롭게 블록을 생성한다. ( 사진의 block 의 data ) 블록이 너무 빠르게 생성되몀 난이도를 올리기도 한다.

결국 네트워크가 원하는 답을 찾아 논스를 바꾸면 된다! 현재 비트코인은 19개의 0으로 시작해야한다고함.

참고로 이건 비트코인의 난이도를 계산하기 위한 정확한 방법은 아니다. 0의 숫자는 난이도에 따른 결과일 뿐이고, 난이도 자체는 bits 라는 것을 통해 계산한다고 한다.

이제 이해되지? 그래픽 카드가 좋을수록 빠르게 여러 개의 nonce 를 시도해볼 수 있다! 예를 들어 6천만 논스를 1초에 계산한다.

155000000000000000000 -> 비트코인 네트워크에서 1초마다 도원되는 해시의 숫자 ^^.. 그만큼 채굴이 어렵다는 뜻이다. 10분마다 이 해시 중 하나는 nonce 를 찾아서 블록에 추가된다.

# Smart contract, etherium

스마트 컨트랙트는 이 때까지 들어본 모든 엄청난 프로젝트의 주춧돌 같은 역할이다. NFT, ICO ( Initial Coin Offering ), DEX ( Decentralized exchanges ) etc ..

비트코인이 지루한 이유? 다른 사람과 교류할 수 없기 때문이다. 비트코인을 주고받는 것 외에 할 수 있는 것이 없음.

스마트 컨트랙트를 통하면 다른 사람과 교류할 수 있고, 또한 코드로 소통할 수 있다. 그 중 하나는 이를 통해 탈중앙화 앱을 만들 수 있다는 것이다. 

뭔 뜻이냐? 개발자로서 코딩을 해서 이 것을 공유 네트워크에 올릴 수 있다. ( 전체 네트워크가 검증하고 실행하는 네트워크에 )

보통 코딩해서 AWS 에 올리잖아? 근데 Amazon server 가 터지면? 내 애플리케이션도 사라진다. 하지만 내 코드를 공유 네트워크 ( smart contract platform ) 에 올리면? 그 곳에 영원히 있는거야. 사람들은 볼 수 있지만 변경할 수는 없다.

정리하자면, 내가 코딩을 해서 그 코드를 주인이 없는 백엔드에 올린다. 전세계 사람들이 쓰는 어마어마한 공유 네트워크에. 이 것이 나의 코드를 검증하고 실행하게 된다. 어마어마한 블록체인의 안정성을 구축한 채.

무엇을 만들 수 있나? 예를 들면 너만의 은행 계좌를 만들 수 있다. 여기서 두 가지 방침이 있는 스마트 컨트랙트를 사용한다.
![smartcontract](/assets/img/posts/smart_contract.png){: width="50%" height="50%"}

1. 돈을 저축하고 거기에 보관한다.
2. 시간이 흐른 30년 후의 나에게 돌려준다.
이 것을 은행의 도움 없이 스마트 컨트랙트가 할 수 있다. 스마트 컨트랙트를 사용하여 블록체인에 올린다. 그럼 잘 보관되어 있겠지? 아무도 수정을 할 수 없으니까!
차곡차곡 스마트 컨트랙트를 통해 30년동안 저축을 하고, 시간이 흘러서 코드가 실행되고 그 돈은 다시 너에게 돌아올 것이다.

한 가지 예를 더 들어보자. 에어비앤비!
방의 주인과 방을 빌리는 사람은 에어비앤비를 중개인으로하여 방을 빌려주고, 빌린다. 방의 주인과 방을 빌리는 사람 모두 에어비앤비를 신뢰하고 있다. 이것을 스마트 컨트랙트로 대체할 수 있다.

![smartairbnb](/assets/img/posts/smart_airbnb.png){: width="50%" height="50%"}

1. 방을 빌리려는 사람은 에어비앤비 대신 스마트 컨트랙트에 돈을 보낸다.
2. 스마트 컨트랙트는 아두이노와 같은 IoT 와 같은 기술을 활용하여 대문이나 TV 같은 것들과 연결한다.
3. 스마트 컨트랙트는 TV 를 켜고, 문을 열어준다. 정해진 기간동안!

스마트 컨트랙트의 단점? 원하는 소스를 모두 활용할 수 없다. 결국 해당 ( 블록체인 ) 네트워크 위에서만 실행이 가능하다.
![smartlimit](/assets/img/posts/smart_limit.png){: width="50%" height="50%"}

ex ) 친구와 내가 내일 비가 온다고 내기를 한다. 스마트 컨트랙트와 비 감지 센서를 연결하고 비가 온다면 돈을 따는 것이다. 문제는 스마트 컨트랙트는 비 감지 센서를 믿어야한다는 것이다. 이 거래는 "신뢰 기반" 의 거래가 되는 것이다. 탈중앙화 네트워크 외부의 무언가에 의존, 혹은 신뢰를 해야한다는 것.

따라서 이러한 단점 때문에 누군가가 조작할 수 있는 인풋은 허용할 수 없는 신뢰 기반이 아닌 특수한 네트워크, 환경을 요구하게 된다. 

![smartoracle](/assets/img/posts/smart_oracle.png){: width="50%" height="50%"}

이 단점을 보완하기 위해서 "oracle" 이라는 것이 존재한다. oracle 은 스마트 컨트랙트에 인풋을 제공하는데, 신뢰 기반의 데이터를 이러한 특수 네트워크에 가져온다.

총 정리 : 스마트 컨트랙트는 나의 코드를 가져다 모두가 공유, 검증, 실행하지만 수정은 할 수 없는 ( 블록체인의 특징 ) 백엔드에 올린다. 덕분에 중개인이 필요없게 되고 규칙을 빠짐없이 실행할 스마트 컨트랙트를 만들고, 정부나 단체에 조종 당할 염려없이 네트워크에 의하여 빈틈없이 실행된다.

스마트 컨트랙트를 지원하는 블록체인 : etherium, kusama, polkadot, cardano, cosmos etc..









초기 `포스팅` 테스트입니다.

**Obviously,**
[markdown](https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet)

* Simple bulleted lists
* Like this one
* Are cool

1. Numbered lists
2. Like this other one
3. Are great too

> “Simple can be harder than complex: You have to work hard to get your thinking clean to make it simple. But it’s worth it in the end because once you get there, you can move mountains.”

![Author Sidebar Widget](https://res.cloudinary.com/sujaykundu/image/upload/c_scale,fl_progressive,w_400/v1603700133/3_tiuar0.png)


